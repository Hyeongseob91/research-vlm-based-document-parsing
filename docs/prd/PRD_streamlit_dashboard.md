# VLM Document Parsing Dashboard PRD

> **Version**: 1.0
> **Created**: 2026-01-27
> **Status**: Draft

## 1. Overview

### 1.1 Problem Statement
í˜„ì¬ ëŒ€ì‹œë³´ë“œëŠ” í•˜ë“œì½”ë”©ëœ ìƒ˜í”Œ ë°ì´í„°ì™€ ë¶ˆí•„ìš”í•œ ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥(Sidebar, í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë²„íŠ¼)ì„ í¬í•¨í•˜ê³  ìˆì–´, ì‹¤ì œ ëª©ì ì¸ "CLI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™” ë° Tech Report ì‘ì„± ì§€ì›"ì— ì í•©í•˜ì§€ ì•ŠìŒ.

### 1.2 Goals
- CLIì—ì„œ ìƒì„±ëœ í…ŒìŠ¤íŠ¸ ê²°ê³¼ JSONì„ ë¡œë“œí•˜ì—¬ ì‹œê°í™”
- Tech Report ì‘ì„±ì— í•„ìš”í•œ ì°¨íŠ¸/ê·¸ë˜í”„ ì œê³µ
- ë°ì´í„° í™•ì¥ ì‹œì—ë„ ì„±ëŠ¥ ì €í•˜ ì—†ëŠ” êµ¬ì¡°

### 1.3 Non-Goals (Out of Scope)
- ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê¸°ëŠ¥
- ì‚¬ìš©ì ì¸í„°ë™ì…˜ (íŒŒì„œ ì„ íƒ, í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë²„íŠ¼)
- íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥

### 1.4 Scope
| í¬í•¨ | ì œì™¸ |
|------|------|
| JSON ê²°ê³¼ íŒŒì¼ ë¡œë“œ | ì‹¤ì‹œê°„ íŒŒì‹± ì‹¤í–‰ |
| ì •ì  ì°¨íŠ¸ ì‹œê°í™” | Sidebar ì¸í„°ë™ì…˜ |
| ë°ì´í„° ìºì‹± | íŒŒì¼ ì—…ë¡œë“œ |
| í˜ì´ì§€ë„¤ì´ì…˜ (ëŒ€ëŸ‰ ë°ì´í„°) | ì‚¬ìš©ì ì„¤ì • ì €ì¥ |

## 2. User Stories

### 2.1 Primary User
ì—°êµ¬ì›ìœ¼ë¡œì„œ, CLIì—ì„œ ì‹¤í–‰í•œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì°¨íŠ¸ë¡œ ì‹œê°í™”í•˜ì—¬ Tech Reportì— í™œìš©í•˜ê³  ì‹¶ë‹¤.

### 2.2 Acceptance Criteria (Gherkin)
```gherkin
Scenario: í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™”
  Given CLIì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ results/parsing_results.jsonì´ ìƒì„±ë¨
  When Streamlit ëŒ€ì‹œë³´ë“œë¥¼ ì‹¤í–‰í•¨
  Then JSON íŒŒì¼ì´ ìë™ ë¡œë“œë˜ì–´ ì°¨íŠ¸ë¡œ í‘œì‹œë¨
  And Sidebar ì—†ì´ ì „ì²´ í™”ë©´ìœ¼ë¡œ ê²°ê³¼ê°€ í‘œì‹œë¨

Scenario: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬
  Given 100ê°œ ì´ìƒì˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ì¡´ì¬í•¨
  When ëŒ€ì‹œë³´ë“œë¥¼ ë¡œë“œí•¨
  Then í˜ì´ì§€ë„¤ì´ì…˜ìœ¼ë¡œ 10ê°œì”© í‘œì‹œë¨
  And ë¸Œë¼ìš°ì € ì„±ëŠ¥ ì €í•˜ ì—†ìŒ
```

## 3. Functional Requirements

| ID | Requirement | Priority | Dependencies |
|----|------------|----------|--------------|
| FR-001 | JSON ê²°ê³¼ íŒŒì¼ ìë™ ë¡œë“œ | P0 (Must) | - |
| FR-002 | Titleì— "VLM Document Parsing" í‚¤ì›Œë“œ í‘œì‹œ | P0 (Must) | - |
| FR-003 | Sidebar ì œê±°, ì „ì²´ í™”ë©´ ë ˆì´ì•„ì›ƒ | P0 (Must) | - |
| FR-004 | Parsing ê²°ê³¼ íƒ­ (WER, CER, BLEU, Latency) | P0 (Must) | FR-001 |
| FR-005 | Chunking ê²°ê³¼ íƒ­ (BC, CS Scatter) | P0 (Must) | FR-001 |
| FR-006 | ì¢…í•© ë¶„ì„ íƒ­ | P1 (Should) | FR-004, FR-005 |
| FR-007 | @st.cache_data ìºì‹± ì ìš© | P1 (Should) | FR-001 |
| FR-008 | í…ŒìŠ¤íŠ¸ ìˆ˜ 10ê°œ ì´ˆê³¼ ì‹œ í˜ì´ì§€ë„¤ì´ì…˜ | P2 (Could) | FR-004 |
| FR-009 | ì°¨íŠ¸ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ | P2 (Could) | FR-004, FR-005 |

## 4. Non-Functional Requirements

### 4.1 Performance
- ì´ˆê¸° ë¡œë“œ: < 3ì´ˆ (100ê°œ í…ŒìŠ¤íŠ¸ ê¸°ì¤€)
- ì°¨íŠ¸ ë Œë”ë§: < 1ì´ˆ
- ë©”ëª¨ë¦¬ ì‚¬ìš©: < 500MB

### 4.2 Scalability
- ìµœëŒ€ 500ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì§€ì›
- íŒŒì„œ ìˆ˜ ë™ì  í™•ì¥ ì§€ì› (ì½”ë“œ ìˆ˜ì • ì—†ì´)

## 5. Technical Design

### 5.1 ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CLI í…ŒìŠ¤íŠ¸     â”‚ --> â”‚  JSON ì €ì¥      â”‚ --> â”‚  Streamlit      â”‚
â”‚  (test_parsers) â”‚     â”‚  (results/)     â”‚     â”‚  (ì‹œê°í™”)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 JSON ê²°ê³¼ íŒŒì¼ ìŠ¤í‚¤ë§ˆ

```json
{
  "version": "1.0",
  "created_at": "2026-01-27T10:30:00Z",
  "test_config": {
    "parsers": ["VLM (Qwen3-VL)", "pdfplumber", "Docling (RapidOCR)"]
  },
  "parsing_results": [
    {
      "test_id": "test_1",
      "name": "í•™ìˆ  ë…¼ë¬¸ (Chain-of-Thought)",
      "doc_type": "PDF - ë‹¤ì¤‘ í˜ì´ì§€",
      "results": {
        "VLM (Qwen3-VL)": {"wer": 0.124, "cer": 0.089, "bleu": 0.847, "latency": 8520},
        "pdfplumber": {"wer": 0.182, "cer": 0.145, "bleu": 0.723, "latency": 1240}
      }
    }
  ],
  "chunking_results": [
    {
      "strategy": "Semantic",
      "chunks": [
        {"id": 1, "bc": 0.92, "cs": 0.45, "length": 623}
      ],
      "mean_bc": 0.878,
      "mean_cs": 0.490
    }
  ]
}
```

### 5.3 íŒŒì¼ êµ¬ì¡° (ë¦¬íŒ©í† ë§ í›„)

```
src/
â”œâ”€â”€ dashboard_analysis.py      # ë©”ì¸ ì§„ì…ì  (ê°„ì†Œí™”)
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py              # ìƒìˆ˜, ìƒ‰ìƒ
â”‚   â”œâ”€â”€ data_loader.py         # JSON ë¡œë“œ + ìºì‹±
â”‚   â”œâ”€â”€ charts.py              # ì°¨íŠ¸ ìƒì„± í•¨ìˆ˜
â”‚   â””â”€â”€ styles.py              # CSS
results/
â”œâ”€â”€ parsing_results.json       # CLI ì¶œë ¥ë¬¼
â””â”€â”€ chunking_results.json
```

### 5.4 í•µì‹¬ ì»´í¬ë„ŒíŠ¸

#### DataLoader (data_loader.py)
```python
import json
from pathlib import Path
import streamlit as st

@st.cache_data(ttl=3600)
def load_results(results_dir: Path = Path("results")) -> dict:
    """ê²°ê³¼ JSON íŒŒì¼ ë¡œë“œ (1ì‹œê°„ ìºì‹±)"""
    parsing_path = results_dir / "parsing_results.json"

    if not parsing_path.exists():
        return {"error": "ê²°ê³¼ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤. CLIì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ì„¸ìš”."}

    with open(parsing_path, encoding="utf-8") as f:
        return json.load(f)
```

#### ë©”ì¸ ëŒ€ì‹œë³´ë“œ (dashboard_analysis.py)
```python
st.set_page_config(
    page_title="VLM Document Parsing Research",
    page_icon="ğŸ“„",
    layout="wide",
)

# Title
st.title("ğŸ“„ VLM Document Parsing Quality Analysis")
st.caption("CLI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™” | Tech Report ì‘ì„± ì§€ì›")

# ë°ì´í„° ë¡œë“œ
data = load_results()

if "error" in data:
    st.warning(data["error"])
    st.stop()

# íƒ­ êµ¬ì„± (Sidebar ì—†ìŒ)
tab_parsing, tab_chunking, tab_result = st.tabs([...])
```

## 6. Implementation Phases

### Phase 1: êµ¬ì¡° ë‹¨ìˆœí™” (MVP) âœ…
- [x] PRD ì‘ì„±
- [x] Sidebar ì œê±°
- [x] Title ë³€ê²½ ("VLM Document Parsing Quality Analysis")
- [x] í•˜ë“œì½”ë”© ë°ì´í„° ìœ ì§€ (ì„ì‹œ)

**Deliverable**: Sidebar ì—†ëŠ” ë‹¨ìˆœ ë·°ì–´

### Phase 2: JSON ë¡œë”© ì—°ë™ âœ…
- [x] `results/` ë””ë ‰í† ë¦¬ êµ¬ì¡° ì •ì˜
- [x] DataLoader í´ë˜ìŠ¤ êµ¬í˜„ (`src/dashboard/data_loader.py`)
- [x] CLI ì¶œë ¥ í¬ë§·ê³¼ ì—°ë™ (`results/parsing_results.json`)
- [x] @st.cache_data ì ìš© (1ì‹œê°„ TTL)

**Deliverable**: CLI ê²°ê³¼ ìë™ ë¡œë“œ

### Phase 3: í™•ì¥ì„± ê°œì„  âœ…
- [x] í˜ì´ì§€ë„¤ì´ì…˜ (10ê°œ ë‹¨ìœ„)
- [x] Lazy loading (ìƒì„¸ ì°¨íŠ¸ - Expander ì‚¬ìš©)
- [x] ì°¨íŠ¸ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ (Plotly modebar)

**Deliverable**: 100+ í…ŒìŠ¤íŠ¸ ì§€ì›

### Phase 4: Tech Report ì§€ì› âœ…
- [x] ì°¨íŠ¸ë³„ PNG ë‚´ë³´ë‚´ê¸° (Plotly downloadImage config)
- [x] ìš”ì•½ í…Œì´ë¸” CSV ë‚´ë³´ë‚´ê¸° (st.download_button)
- [ ] ì¸ì‡„ìš© ë ˆì´ì•„ì›ƒ ëª¨ë“œ (P2 - ì„ íƒì‚¬í•­)

**Deliverable**: Report ì‘ì„± ì§€ì› ì™„ë£Œ

## 7. Success Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| ì´ˆê¸° ë¡œë“œ ì‹œê°„ | < 3ì´ˆ | ë¸Œë¼ìš°ì € DevTools |
| ì§€ì› í…ŒìŠ¤íŠ¸ ìˆ˜ | 100+ | ì‹¤ì œ ë°ì´í„° í…ŒìŠ¤íŠ¸ |
| Tech Report ì™„ì„± | 1í¸ | ë¸”ë¡œê·¸ ê²Œì‹œ |

## 8. UI Wireframe

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“„ VLM Document Parsing Quality Analysis                       â”‚
â”‚  CLI í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™” | Tech Report ì‘ì„± ì§€ì›                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Parsing Test]  [Chunking Test]  [ì¢…í•© ë¶„ì„]                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Global Summary     â”‚  â”‚  Radar Chart        â”‚              â”‚
â”‚  â”‚  (Table)            â”‚  â”‚                     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Metrics Comparison (Grouped Bar Charts)    â”‚               â”‚
â”‚  â”‚  WER | CER | BLEU | Latency                 â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Detailed Test Analysis                      â”‚               â”‚
â”‚  â”‚  (Expandable per test)                       â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 9. Dependencies

| íŒ¨í‚¤ì§€ | ë²„ì „ | ìš©ë„ |
|--------|------|------|
| streamlit | >= 1.30 | ëŒ€ì‹œë³´ë“œ í”„ë ˆì„ì›Œí¬ |
| plotly | >= 6.0 | ì°¨íŠ¸ ìƒì„± |
| pandas | >= 2.0 | ë°ì´í„° ì²˜ë¦¬ |

## 10. Risks & Mitigations

| Risk | Impact | Mitigation |
|------|--------|------------|
| JSON íŒŒì¼ ì—†ì„ ë•Œ ì—ëŸ¬ | ë†’ìŒ | ìƒ˜í”Œ ë°ì´í„° fallback |
| ì°¨íŠ¸ ë Œë”ë§ ì§€ì—° | ì¤‘ê°„ | Lazy loading ì ìš© |
| íŒŒì„œ ì¶”ê°€ ì‹œ ìƒ‰ìƒ ì¶©ëŒ | ë‚®ìŒ | ë™ì  ìƒ‰ìƒ ìƒì„± í•¨ìˆ˜ |
